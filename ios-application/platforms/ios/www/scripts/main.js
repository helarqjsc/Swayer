function FastClick(e){"use strict";var t,s=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e,!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(s,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(s,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(s,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(s,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(s,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(s,arguments)},FastClick.notNeeded(e)||(this.deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,s,n){var a=Node.prototype.removeEventListener;"click"===t?a.call(e,t,s.hijacked||s,n):a.call(e,t,s,n)},e.addEventListener=function(t,s,n){var a=Node.prototype.addEventListener;"click"===t?a.call(e,t,s.hijacked||(s.hijacked=function(e){e.propagationStopped||s(e)}),n):a.call(e,t,s,n)}),"function"==typeof e.onclick&&(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null))}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){"use strict";var s,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],s=document.createEvent("MouseEvents"),s.initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),s.forwardedTouchEvent=!0,e.dispatchEvent(s)},FastClick.prototype.determineEventType=function(e){"use strict";return this.deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(e){"use strict";var t;this.deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){"use strict";var t,s;if(t=e.fastClickScrollParent,!t||!t.contains(e)){s=e;do{if(s.scrollHeight>s.offsetHeight){t=s,e.fastClickScrollParent=s;break}s=s.parentElement}while(s)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){"use strict";var t,s,n;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),s=e.targetTouches[0],this.deviceIsIOS){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!this.deviceIsIOS4){if(s.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=s.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=s.pageX,this.touchStartY=s.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],s=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>s||Math.abs(t.pageY-this.touchStartY)>s?!0:!1},FastClick.prototype.onTouchMove=function(e){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){"use strict";var t,s,n,a,i,r=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(i=e.changedTouches[0],r=document.elementFromPoint(i.pageX-window.pageXOffset,i.pageY-window.pageYOffset)||r,r.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=r.tagName.toLowerCase(),"label"===n){if(t=this.findControl(r)){if(this.focus(r),this.deviceIsAndroid)return!1;r=t}}else if(this.needsFocus(r))return e.timeStamp-s>100||this.deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(r),this.deviceIsIOS4&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(a=r.fastClickScrollParent,a&&a.fastClickLastScrollTop!==a.scrollTop)?!0:(this.needsClick(r)||(e.preventDefault(),this.sendClick(r,e)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){"use strict";var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){"use strict";var t,s;if("undefined"==typeof window.ontouchstart)return!0;if(s=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!FastClick.prototype.deviceIsAndroid)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(s>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===e.style.msTouchAction?!0:!1},FastClick.attach=function(e){"use strict";return new FastClick(e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(e){function t(e){e.startMove=e.startMove?e.startMove:{startX:null,startY:null,timestamp:null};var t,s,n=(new Date).getTime();return e.touches&&(s=[{lastX:e.deltaX,lastY:e.deltaY,moved:null,startX:e.screenX-e.startMove.screenX,startY:e.screenY-e.startMove.screenY}],t={vector:e.vector||null,orientation:window.orientation||null,lastX:s[0].lastX>0?1:s[0].lastX<0?-1:0,lastY:s[0].lastY>0?1:s[0].lastY<0?-1:0,startX:s[0].startX>0?1:s[0].startX<0?-1:0,startY:s[0].startY>0?1:s[0].startY<0?-1:0},s[0].moved=Math.sqrt(Math.pow(Math.abs(s[0].startX),2)+Math.pow(Math.abs(s[0].startY),2))),{type:e.type||null,originalEvent:e.event||null,delta:s||null,direction:t||{orientation:window.orientation||null,vector:e.vector||null},duration:e.duration?e.duration:e.startMove.timestamp?n-e.timestamp:null,rotation:e.rotation||null,scale:e.scale||null,description:e.description||[e.type,":",e.touches,":",0!=s[0].lastX?s[0].lastX>0?"right":"left":"steady",":",0!=s[0].lastY?s[0].lastY>0?"down":"up":"steady"].join("")}}function s(t){var s=["landscape:clockwise:","portrait:default:","landscape:counterclockwise:","portrait:upsidedown:"];e(window).triggerHandler("orientationchange",{direction:{orientation:window.orientation},description:["orientationchange:",s[window.orientation/90+1],window.orientation].join("")})}function n(s){var n,a,i,r,o=jQuery(window),c=o.data("ojQueryGestures"),l=e.jGestures.defaults.thresholdShake,u=c.oDeviceMotionLastDevicePosition||{accelerationIncludingGravity:{x:0,y:0,z:0},shake:{eventCount:0,intervalsPassed:0,intervalsFreeze:0},shakeleftright:{eventCount:0,intervalsPassed:0,intervalsFreeze:0},shakefrontback:{eventCount:0,intervalsPassed:0,intervalsFreeze:0},shakeupdown:{eventCount:0,intervalsPassed:0,intervalsFreeze:0}},d={accelerationIncludingGravity:{x:s.accelerationIncludingGravity.x,y:s.accelerationIncludingGravity.y,z:s.accelerationIncludingGravity.z},shake:{eventCount:u.shake.eventCount,intervalsPassed:u.shake.intervalsPassed,intervalsFreeze:u.shake.intervalsFreeze},shakeleftright:{eventCount:u.shakeleftright.eventCount,intervalsPassed:u.shakeleftright.intervalsPassed,intervalsFreeze:u.shakeleftright.intervalsFreeze},shakefrontback:{eventCount:u.shakefrontback.eventCount,intervalsPassed:u.shakefrontback.intervalsPassed,intervalsFreeze:u.shakefrontback.intervalsFreeze},shakeupdown:{eventCount:u.shakeupdown.eventCount,intervalsPassed:u.shakeupdown.intervalsPassed,intervalsFreeze:u.shakeupdown.intervalsFreeze}};for(n in c){switch(n){case"shake":case"shakeleftright":case"shakefrontback":case"shakeupdown":if(a=[],i=[],a.push(n),++d[n].intervalsFreeze>l.freezeShakes&&d[n].intervalsFreeze<2*l.freezeShakes)break;d[n].intervalsFreeze=0,d[n].intervalsPassed++,"shake"!==n&&"shakeleftright"!==n||!(d.accelerationIncludingGravity.x>l.leftright.sensitivity||d.accelerationIncludingGravity.x<-1*l.leftright.sensitivity)||(a.push("leftright"),a.push("x-axis")),"shake"!==n&&"shakefrontback"!==n||!(d.accelerationIncludingGravity.y>l.frontback.sensitivity||d.accelerationIncludingGravity.y<-1*l.frontback.sensitivity)||(a.push("frontback"),a.push("y-axis")),"shake"!==n&&"shakeupdown"!==n||!(d.accelerationIncludingGravity.z+9.81>l.updown.sensitivity||d.accelerationIncludingGravity.z+9.81<-1*l.updown.sensitivity)||(a.push("updown"),a.push("z-axis")),a.length>1&&(++d[n].eventCount==l.requiredShakes&&d[n].intervalsPassed<l.freezeShakes?(o.triggerHandler(n,t({type:n,description:a.join(":"),event:s,duration:5*d[n].intervalsPassed})),d[n].eventCount=0,d[n].intervalsPassed=0,d[n].intervalsFreeze=l.freezeShakes+1):d[n].eventCount==l.requiredShakes&&d[n].intervalsPassed>l.freezeShakes&&(d[n].eventCount=0,d[n].intervalsPassed=0))}r={},r.oDeviceMotionLastDevicePosition=d,o.data("ojQueryGestures",e.extend(!0,c,r))}}function a(t){var s=jQuery(t.currentTarget);s.triggerHandler(e.jGestures.events.touchstart,t),e.hasGestures?(t.currentTarget.addEventListener("touchmove",i,!1),t.currentTarget.addEventListener("touchend",r,!1)):(s.bind("mousemove",i),s.bind("mouseup",r));var n=s.data("ojQueryGestures"),a=t.touches?t.touches[0]:t,o={};o.oLastSwipemove={screenX:a.screenX,screenY:a.screenY,timestamp:(new Date).getTime()},o.oStartTouch={screenX:a.screenX,screenY:a.screenY,timestamp:(new Date).getTime()},s.data("ojQueryGestures",e.extend(!0,n,o))}function i(s){var n,a=jQuery(s.currentTarget),i=a.data("ojQueryGestures"),r=!!s.touches,o=r?s.changedTouches[0].screenX:s.screenX,c=r?s.changedTouches[0].screenY:s.screenY,l=i.oLastSwipemove,u=o-l.screenX,d=c-l.screenY;i.oLastSwipemove&&(n=t({type:"swipemove",touches:r?s.touches.length:"1",screenY:c,screenX:o,deltaY:d,deltaX:u,startMove:l,event:s,timestamp:l.timestamp}),a.triggerHandler(n.type,n));var h={},p=s.touches?s.touches[0]:s;h.oLastSwipemove={screenX:p.screenX,screenY:p.screenY,timestamp:(new Date).getTime()},a.data("ojQueryGestures",e.extend(!0,i,h))}function r(s){var n=jQuery(s.currentTarget),a=!!s.changedTouches,o=a?s.changedTouches.length:"1",c=a?s.changedTouches[0].screenX:s.screenX,l=a?s.changedTouches[0].screenY:s.screenY;n.triggerHandler(e.jGestures.events.touchendStart,s),e.hasGestures?(s.currentTarget.removeEventListener("touchmove",i,!1),s.currentTarget.removeEventListener("touchend",r,!1)):(n.unbind("mousemove",i),n.unbind("mouseup",r));var u,d,h,p,v,g,f,k=n.data("ojQueryGestures"),w=Math.abs(k.oStartTouch.screenX-c)>e.jGestures.defaults.thresholdMove||Math.abs(k.oStartTouch.screenY-l)>e.jGestures.defaults.thresholdMove?!0:!1,m=Math.abs(k.oStartTouch.screenX-c)>e.jGestures.defaults.thresholdSwipe||Math.abs(k.oStartTouch.screenY-l)>e.jGestures.defaults.thresholdSwipe?!0:!1,y=["zero","one","two","three","four"];for(u in k){switch(d=k.oStartTouch,h={},c=a?s.changedTouches[0].screenX:s.screenX,l=a?s.changedTouches[0].screenY:s.screenY,p=c-d.screenX,v=l-d.screenY,g=t({type:"swipe",touches:o,screenY:l,screenX:c,deltaY:v,deltaX:p,startMove:d,event:s,timestamp:d.timestamp}),f=!1,u){case"swipeone":if(a===!1&&1==o&&w===!1)break;(a===!1||1==o&&w===!0&&m===!0)&&(f=!0,g.type=["swipe",y[o]].join(""),n.triggerHandler(g.type,g));break;case"swipetwo":a&&2==o&&w===!0&&m===!0&&(f=!0,g.type=["swipe",y[o]].join(""),n.triggerHandler(g.type,g));break;case"swipethree":a&&3==o&&w===!0&&m===!0&&(f=!0,g.type=["swipe",y[o]].join(""),n.triggerHandler(g.type,g));break;case"swipefour":a&&4==o&&w===!0&&m===!0&&(f=!0,g.type=["swipe",y[o]].join(""),n.triggerHandler(g.type,g));break;case"swipeup":case"swiperightup":case"swiperight":case"swiperightdown":case"swipedown":case"swipeleftdown":case"swipeleft":case"swipeleftup":a&&w===!0&&m===!0&&(f=!0,g.type=["swipe",0!=g.delta[0].lastX?g.delta[0].lastX>0?"right":"left":"",0!=g.delta[0].lastY?g.delta[0].lastY>0?"down":"up":""].join(""),n.triggerHandler(g.type,g));break;case"tapone":case"taptwo":case"tapthree":case"tapfour":w!==!0&&f!==!0&&y[o]==u.slice(3)&&(g.description=["tap",y[o]].join(""),g.type=["tap",y[o]].join(""),n.triggerHandler(g.type,g))}var C={};n.data("ojQueryGestures",e.extend(!0,k,C)),n.data("ojQueryGestures",e.extend(!0,k,C))}n.triggerHandler(e.jGestures.events.touchendProcessed,s)}function o(t){var s=jQuery(t.currentTarget);s.triggerHandler(e.jGestures.events.gesturestart,t);var n=s.data("ojQueryGestures"),a={};a.oStartTouch={timestamp:(new Date).getTime()},s.data("ojQueryGestures",e.extend(!0,n,a))}function c(s){var n,a,i,r,o=jQuery(s.currentTarget),c=o.data("ojQueryGestures");for(r in c)switch(r){case"pinch":n=s.scale,(1>n&&n%1<1-e.jGestures.defaults.thresholdPinchclose||n>1&&n%1>e.jGestures.defaults.thresholdPinchopen)&&(a=1>n?-1:1,i=t({type:"pinch",scale:n,touches:null,startMove:c.oStartTouch,event:s,timestamp:c.oStartTouch.timestamp,vector:a,description:["pinch:",a,":",1>n?"close":"open"].join("")}),o.triggerHandler(i.type,i));break;case"rotate":n=s.rotation,(1>n&&-1*n>e.jGestures.defaults.thresholdRotateccw||n>1&&n>e.jGestures.defaults.thresholdRotatecw)&&(a=1>n?-1:1,i=t({type:"rotate",rotation:n,touches:null,startMove:c.oStartTouch,event:s,timestamp:c.oStartTouch.timestamp,vector:a,description:["rotate:",a,":",1>n?"counterclockwise":"clockwise"].join("")}),o.triggerHandler(i.type,i))}}function l(s){var n=jQuery(s.currentTarget);n.triggerHandler(e.jGestures.events.gestureendStart,s);var a,i,r=n.data("ojQueryGestures");for(i in r)switch(i){case"pinchclose":a=s.scale,1>a&&a%1<1-e.jGestures.defaults.thresholdPinchclose&&n.triggerHandler("pinchclose",t({type:"pinchclose",scale:a,vector:-1,touches:null,startMove:r.oStartTouch,event:s,timestamp:r.oStartTouch.timestamp,description:"pinch:-1:close"}));break;case"pinchopen":a=s.scale,a>1&&a%1>e.jGestures.defaults.thresholdPinchopen&&n.triggerHandler("pinchopen",t({type:"pinchopen",scale:a,vector:1,touches:null,startMove:r.oStartTouch,event:s,timestamp:r.oStartTouch.timestamp,description:"pinch:+1:open"}));break;case"rotatecw":a=s.rotation,a>1&&a>e.jGestures.defaults.thresholdRotatecw&&n.triggerHandler("rotatecw",t({type:"rotatecw",rotation:a,vector:1,touches:null,startMove:r.oStartTouch,event:s,timestamp:r.oStartTouch.timestamp,description:"rotate:+1:clockwise"}));break;case"rotateccw":a=s.rotation,1>a&&-1*a>e.jGestures.defaults.thresholdRotateccw&&n.triggerHandler("rotateccw",t({type:"rotateccw",rotation:a,vector:-1,touches:null,startMove:r.oStartTouch,event:s,timestamp:r.oStartTouch.timestamp,description:"rotate:-1:counterclockwise"}))}n.triggerHandler(e.jGestures.events.gestureendProcessed,s)}e.jGestures={},e.jGestures.defaults={},e.jGestures.defaults.thresholdShake={requiredShakes:10,freezeShakes:100,frontback:{sensitivity:10},leftright:{sensitivity:10},updown:{sensitivity:10}},e.jGestures.defaults.thresholdPinchopen=.05,e.jGestures.defaults.thresholdPinchmove=.05,e.jGestures.defaults.thresholdPinch=.05,e.jGestures.defaults.thresholdPinchclose=.05,e.jGestures.defaults.thresholdRotatecw=5,e.jGestures.defaults.thresholdRotateccw=5,e.jGestures.defaults.thresholdMove=30,e.jGestures.defaults.thresholdSwipe=20,e.jGestures.data={},e.jGestures.data.capableDevicesInUserAgentString=["iPad","iPhone","iPod","Mobile Safari"],e.jGestures.data.hasGestures=function(){var t;for(t=0;t<e.jGestures.data.capableDevicesInUserAgentString.length;t++)if(-1!==navigator.userAgent.indexOf(e.jGestures.data.capableDevicesInUserAgentString[t]))return!0;return!1}(),e.hasGestures=e.jGestures.data.hasGestures,e.jGestures.events={touchstart:"jGestures.touchstart",touchendStart:"jGestures.touchend;start",touchendProcessed:"jGestures.touchend;processed",gesturestart:"jGestures.gesturestart",gestureendStart:"jGestures.gestureend;start",gestureendProcessed:"jGestures.gestureend;processed"},jQuery.each({orientationchange_orientationchange01:"orientationchange",gestureend_pinchopen01:"pinchopen",gestureend_pinchclose01:"pinchclose",gestureend_rotatecw01:"rotatecw",gestureend_rotateccw01:"rotateccw",gesturechange_pinch01:"pinch",gesturechange_rotate01:"rotate",touchstart_swipe13:"swipemove",touchstart_swipe01:"swipeone",touchstart_swipe02:"swipetwo",touchstart_swipe03:"swipethree",touchstart_swipe04:"swipefour",touchstart_swipe05:"swipeup",touchstart_swipe06:"swiperightup",touchstart_swipe07:"swiperight",touchstart_swipe08:"swiperightdown",touchstart_swipe09:"swipedown",touchstart_swipe10:"swipeleftdown",touchstart_swipe11:"swipeleft",touchstart_swipe12:"swipeleftup",touchstart_tap01:"tapone",touchstart_tap02:"taptwo",touchstart_tap03:"tapthree",touchstart_tap04:"tapfour",devicemotion_shake01:"shake",devicemotion_shake02:"shakefrontback",devicemotion_shake03:"shakeleftright",devicemotion_shake04:"shakeupdown"},function(t,u){jQuery.event.special[u]={setup:function(){var i,r,u=t.split("_"),d=u[0],h=u[1].slice(0,u[1].length-2),p=jQuery(this);if(!p.data("ojQueryGestures")||!p.data("ojQueryGestures")[d])if(i=p.data("ojQueryGestures")||{},r={},r[d]=!0,e.extend(!0,i,r),p.data("ojQueryGestures",i),e.hasGestures)switch(h){case"orientationchange":p.get(0).addEventListener("orientationchange",s,!1);break;case"shake":case"shakefrontback":case"shakeleftright":case"shakeupdown":case"tilt":p.get(0).addEventListener("devicemotion",n,!1);break;case"tap":case"swipe":case"swipeup":case"swiperightup":case"swiperight":case"swiperightdown":case"swipedown":case"swipeleftdown":case"swipeleft":p.get(0).addEventListener("touchstart",a,!1);break;case"pinchopen":case"pinchclose":case"rotatecw":case"rotateccw":p.get(0).addEventListener("gesturestart",o,!1),p.get(0).addEventListener("gestureend",l,!1);break;case"pinch":case"rotate":p.get(0).addEventListener("gesturestart",o,!1),p.get(0).addEventListener("gesturechange",c,!1)}else switch(h){case"tap":case"swipe":p.bind("mousedown",a);break;case"orientationchange":case"pinchopen":case"pinchclose":case"rotatecw":case"rotateccw":case"pinch":case"rotate":case"shake":case"tilt":}return!1},add:function(e){var t=jQuery(this),s=t.data("ojQueryGestures");return s[e.type]={originalType:e.type},!1},remove:function(e){var t=jQuery(this),s=t.data("ojQueryGestures");return s[e.type]=!1,t.data("ojQueryGestures",s),!1},teardown:function(){var u,d,h=t.split("_"),p=h[0],v=h[1].slice(0,h[1].length-2),g=jQuery(this);if(!g.data("ojQueryGestures")||!g.data("ojQueryGestures")[p])if(u=g.data("ojQueryGestures")||{},d={},d[p]=!1,e.extend(!0,u,d),g.data("ojQueryGestures",u),e.hasGestures)switch(v){case"orientationchange":g.get(0).removeEventListener("orientationchange",s,!1);break;case"shake":case"shakefrontback":case"shakeleftright":case"shakeupdown":case"tilt":g.get(0).removeEventListener("devicemotion",n,!1);break;case"tap":case"swipe":case"swipeup":case"swiperightup":case"swiperight":case"swiperightdown":case"swipedown":case"swipeleftdown":case"swipeleft":case"swipeleftup":g.get(0).removeEventListener("touchstart",a,!1),g.get(0).removeEventListener("touchmove",i,!1),g.get(0).removeEventListener("touchend",r,!1);break;case"pinchopen":case"pinchclose":case"rotatecw":case"rotateccw":g.get(0).removeEventListener("gesturestart",o,!1),g.get(0).removeEventListener("gestureend",l,!1);break;case"pinch":case"rotate":g.get(0).removeEventListener("gesturestart",o,!1),g.get(0).removeEventListener("gesturechange",c,!1)}else switch(v){case"tap":case"swipe":g.unbind("mousedown",a),g.unbind("mousemove",i),g.unbind("mouseup",r);break;case"orientationchange":case"pinchopen":case"pinchclose":case"rotatecw":case"rotateccw":case"pinch":case"rotate":case"shake":case"tilt":}return!1}}})}(jQuery),!function(){"use strict";window.addEventListener("load",function(){FastClick.attach(document.body)},!1)}();var Hold={refresh:function(){$(".js-hold").on("mousedown",function(){$(event.target).addClass("hold")}).on("mouseup",function(){$(event.target).removeClass("hold")})},init:function(){var e=this;$(window).load(function(){e.refresh()})}};Hold.init();var ApplicationMenu={render:{devices:["skills","swayer"],DevicesList:function(){var e,t;for(var s in this.devices)t=this.devices[s],e='\n          <div class="col-4">\n            <div class="device-icon '+t+'" \n              add-device="'+t+'"></div>\n            <p>\n              '+t+"\n            </p>\n          </div>",$(".js-insert-devices").append(e)}},toggle:function(){$("body").toggleClass("show-application-menu")},bind:function(){var e=this;$(".js-toggle-menu").on("click",function(){e.toggle()})},init:function(){var e=this;$(window).load(function(){e.render.DevicesList(),e.bind()})}};ApplicationMenu.init();var Dock={lock:!1,icon:{append:function(e){var t='\n      <div class="dock-icon dock-device dock-device-'+e+' active col-2">\n        <div class="dock-icon-active-dot"></div>\n      </div>';$(".js-device-carousel").append(t)}},bind:function(){var e=this;$(".dock-lock").on("click",function(){e.lock=e.lock?!1:!0,$(".dock-lock").toggleClass("lock")})},init:function(){var e=this;$(window).load(function(){e.bind()})}};Dock.init();var Audio={sources:[],contexts:[],buffers:{},createContext:function(e){this.contexts.push(new webkitAudioContext)},setFile:function(e,t){var s=[];s[e]=new XMLHttpRequest,s[e].soundName=e,s[e].open("GET","samples/"+t,!0),s[e].responseType="arraybuffer",s[e].addEventListener("load",function(t){Audio.setBuffer(t,e)},!1),s[e].send()},setBuffer:function(e,t){var s=e.target;this.buffers[s.soundName]=this.contexts[t].createBuffer(s.response,!1)},setOptions:function(e){var t=this.contexts[e].createGainNode();this.sources[e]=this.contexts[e].createBufferSource(),this.sources[e].buffer=this.buffers[e],this.sources[e].connect(t),t.connect(this.contexts[e].destination)},play:function(e,t){this.setOptions(e),this.sources[e].loop=t,this.sources[e].noteOn(0)},stop:function(e){this.sources[e].noteOff(0)},refresh:function(){Audio.contexts.length=0,$(".audio").each(function(e){var t=$(this).attr("audio-file");Audio.createContext(e),Audio.setFile(e,t)}),Audio.bind()},bind:function(){var e,t,s;$(".js-pad").on("mousedown",function(){t=$(".js-pad").index($(event.target)),e="loop"===$(event.target).attr("audio-continue")?!0:!1,Audio.play(t,e)}).on("mouseup",function(){s=$(event.target).attr("audio-duration"),t=$(".js-pad").index($(event.target)),"short"===s&&Audio.stop(t)})},init:function(){var e=this;$(window).load(function(){e.refresh()})}};Audio.init();var Device={menu:{toggle:function(e){e.toggleClass("show")}},append:function(e){var t=e.attr("add-device"),s=$(".workspace .wrap");s.append('\n      <div class="device device-'+t+'">\n        '+t+"\n      </div>"),Dock.icon.append(t),Carousel.bind()},del:function(e){var t=e.closest(".device"),s=t.index(),n=$(".dock .dock-device").eq(s);t.remove(),n.remove()},bind:function(){var e=this;$("*[show-device-menu]").on("click",function(){var t=$("."+$(event.target).attr("show-device-menu"));e.menu.toggle(t)}),$("*[add-device]").on("click",function(){e.append($(event.target))}),$(".js-delete-device").on("click",function(){e.del($(event.target))})},init:function(){var e=this;$(window).load(function(){e.bind()})}};Device.init();var Carousel={speed:333,deviceIndex:0,animate:function(e){var t=$(".workspace .wrap"),s=$(window).width();t.animate({left:-1*s*e},Carousel.speed),this.showIconIndicator(e)},showIconIndicator:function(e){$(".js-device-carousel .dock-device").removeClass("show-device-indicator").eq(e).addClass("show-device-indicator")},bind:function(){var e=this;$(".js-device-carousel .dock-device").on("click",function(){Dock.lock||e.animate($(event.target).index())})},init:function(){var e=this;$(window).load(function(){e.bind(),e.showIconIndicator(e.deviceIndex)})}};Carousel.init();var skillsSamples={all:470,kick:778,hat:331,snare:468},padPatterns={cols2rows2:{pattern:["all","all","kick","snare"]},cols3rows2:{pattern:["all","all","all","kick","hat","snare"]},cols4rows2:{pattern:["all","all","all","all","kick","hat","snare","all"]},cols2rows3:{pattern:["all","all","kick","snare","hat","all"]},cols2rows4:{pattern:["all","all","all","all","kick","snare","hat","all"]},cols3rows3:{pattern:["all","all","all","kick","snare","hat","all","all","all"]},cols3rows4:{pattern:["all","all","all","all","all","all","kick","snare","hat","all","all","all"]},cols4rows3:{pattern:["all","all","all","all","kick","snare","hat","all","all","all","all","all"]},cols4rows4:{pattern:["all","all","all","all","all","all","all","all","kick","snare","hat","all","all","all","all","all"]}},Skills={sample:{getRndFile:function(e){var t=skillsSamples[e];return Math.floor(Math.random()*(t-1))+1},getKind:function(e,t,s){return padPatterns["cols"+e+"rows"+t].pattern[s]},getFile:function(e,t,s){var n=this.getKind(e,t,s),a=this.getRndFile(n);return"Skills/"+n+"/"+a+".mp3"}},render:{cols:4,rows:4,pads:function(e){var t,s;void 0!==e?(t=e.closest(".device-skills"),s=t.find(".skills-pads")):void 0===e&&(t=$(".device-skills"),s=$(".skills-pads")),this.appendPads(s),t.css("background",this.getRandomRGBA()),Audio.refresh(),Hold.refresh()},appendPads:function(e){var t=12/this.cols,s="",n="",a="show";e.html("");for(var i=0;i<this.rows*this.cols;i++)s=Skills.sample.getFile(this.cols,this.rows,i),n=Skills.sample.getKind(this.cols,this.rows,i),a="kick"===n||"hat"===n||"snare"===n?"show":"hide",e.append('\n          <div class="pad js-pad js-hold audio col-'+t+" pad-row-"+this.rows+'"\n            audio-file="'+s+'"\n            audio-duration="long"\n            audio-continue="oneshot">\n            <p class="'+a+'">\n              '+n+"\n            </p>\n          </div>")},getRandomColor:function(){return(122*Math.random()+1).toFixed(0)},getRandomRGBA:function(){var e,t,s=0,n="";return e=this.getRandomColor(),t=this.getRandomColor(),s=this.getRandomColor(),n="rgba("+e+", "+t+", "+s+", 1)"}},bind:function(){$(".class").on("click",function(){})},init:function(){var e=this;$(window).load(function(){e.render.pads(),e.bind()})}};Skills.init();var SkillsMenu={bind:function(){$(".js-skills-random-all").on("click",function(e){Skills.render.pads($(event.target))}),$(".js-customize-pads-grid").on("mousedown",function(e){}).on("mousemove",function(e){}).on("mouseup",function(e){})},init:function(){var e=this;$(window).load(function(){e.bind()})}};SkillsMenu.init();